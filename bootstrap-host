#!/bin/zsh
# ================================================
# BOOTSTRAP-HOST =================================
# ================================================
echo "Bootstrapping host..."

.bin/ensure-symbolic-links
.bin/generate-grconfig

if [[ ! -d ~/.oh-my-zsh ]] ; then
  echo "Installing oh-my-zsh..."
  git clone https://github.com/robbyrussell/oh-my-zsh.git ~/.oh-my-zsh
fi

if [[ ! -d ~/.oh-my-zsh/custom/plugins/zshmarks ]] ; then
  git clone https://github.com/jocelynmallon/zshmarks.git ~/.oh-my-zsh/custom/plugins/zshmarks
fi

# ~/.repositories
# ------------------------------------------------
test -d ~/.repositories || mkdir ~/.repositories

if [[ ! -d ~/.repositories/g ]] ; then
  git clone git@github.com:eriknomitch/g.git ~/.repositories/g
fi

if [[ ! -d ~/.repositories/prwd ]] ; then
  git clone git@github.com:eriknomitch/prwd.git ~/.repositories/prwd
fi

# ------------------------------------------------
# ------------------------------------------------
# ------------------------------------------------
echo "Setting default bookmarks"
set-bookmark-defaults

# ------------------------------------------------
# ------------------------------------------------
# ------------------------------------------------
echo "Setting ~/.ssh permissions"

chmod 700 $HOME/.ssh
chmod 600 $HOME/.ssh/config

# ------------------------------------------------
# ------------------------------------------------
# ------------------------------------------------
echo "Done."
