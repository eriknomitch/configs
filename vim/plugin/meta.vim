" ================================================
" VIM->PLUGIN->META ==============================
" ================================================

" ------------------------------------------------
" SCREEN -----------------------------------------
" ------------------------------------------------
function Send_to_Screen(text) 
    echo system("screen -S meta-server -p meta-server -X stuff '" . substitute(a:text, "'", "'\\\\''", 'g') . "'")
endfunction

" ------------------------------------------------
" META -------------------------------------------
" ------------------------------------------------
function Lisp_Quit_Run()
    silent:w
    call Send_to_Screen("(sb-ext:quit)\nclear\n./run\n")
endfunction

" ------------------------------------------------
" MAPPINGS ---------------------------------------
" ------------------------------------------------
vmap <C-c><C-c> "ry:call Send_to_Screen(@r)<CR>
nmap <C-c><C-c> vip<C-c><C-c>

noremap <silent> .w :call Lisp_Quit_Run()<CR>

